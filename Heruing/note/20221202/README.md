### **2022-12-02**

#### 동적 메모리 할당

- 컴퓨터 프로그래밍에서 실행 시간동안 사용할 메모리 공간을 할당하는 것
- 사용이 끝나면 반납하여 다음 요구 시 재할당
- 프로그램 실행 순간 사용할 메모리 크기를 고려하는 정적 메모리 할당과는 대조적



동적으로 할당된 메모리는 명시적으로 해제 하거나 쓰레기 수집 전까지 유지
C/C++은 쓰레기 수집이 없으므로, 사용자가 해제하기 전까지 유지
동적 할당은 프로세스의 힙 영역에서 할당되므로 프로세스 종료 시 OS에 리소스가 반납됨

프로세스가 실행 중일 때는 동적 할당된 영역이 유지되므로 힙 영역의 크기를 넘어서 할당할 수 없음
그러므로 사용이 완료된 영역은 반납하는 것이 유리함 → 함수를 통해 해제

수나 변수 영역을 벗어나면 자동으로 공간 해제가 이루어지는 스택을 사용한 자동 변수와 대조적
정적 메모리 할당은 프로세스 시작부터 끝까지 정해진 메모리 양으로 한정되지만, 동적 할당은
과정에 따라 필요한 메모리를 요구하여 할당 받고 해제하는 것이 가능



#### 힙 영역

- 보다 큰 크기의 데이터를 담고자 동적으로 할당하는 메모리 공간을 지칭

프로그램 코드에서 메모리 할당이 주어지면 라이브러리나 모듈이 지정된 크기의 힙 공간에서
사용 가능한 곳을 예약 상태로 만들고, 핸들이나 포인터를 반환

실행 시간에 크기가 결정되는 동적 배열 및 리스트와 같은 경우는 힙을 사용하는 것이 공간 효율적

C언어의 경우 명시적으로 반환하지 않을 경우 메모리 누수의 원인

메모리 관리를 자동으로 해주는 언어는 쓰레기 수집기로 인한 성능 저하 발생 가능



#### 장단점

- 장점
  - 원하는 크기만큼만 할당되므로 경제적
  - 할당된 메모리 크기를 조절할 수 있음
- 단점
  - 명시적으로 메모리를 해제하지 않을 때 발생하는 문제



#### 동적 할당 방법

